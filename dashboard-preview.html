<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workout Tracker Dashboard</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0f172a; color: #e2e8f0; padding: 24px;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { text-align: center; margin-bottom: 36px; }
        .header h1 { font-size: 32px; font-weight: 700; color: #f1f5f9; margin-bottom: 6px; }
        .header p { font-size: 14px; color: #64748b; }
        .stats-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 32px; }
        @media (max-width: 768px) { .stats-row { grid-template-columns: 1fr; } .main-grid { grid-template-columns: 1fr !important; } }
        .stat-card { background: #1e293b; border: 1px solid #334155; border-radius: 12px; padding: 20px; }
        .stat-label { font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; color: #94a3b8; margin-bottom: 10px; }
        .stat-value { font-size: 28px; font-weight: 700; color: #f1f5f9; }
        .stat-sub { font-size: 12px; color: #22c55e; margin-top: 4px; }
        .main-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; }
        .section-title { font-size: 16px; font-weight: 600; color: #f1f5f9; margin-bottom: 16px; }
        .workout-card { background: #1e293b; border: 1px solid #334155; border-radius: 12px; margin-bottom: 12px; overflow: hidden; }
        .workout-head { padding: 14px 16px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; }
        .workout-head:hover { background: #0f172a; }
        .workout-date { font-size: 14px; color: #cbd5e1; font-weight: 500; }
        .badge { display: inline-block; padding: 4px 10px; border-radius: 6px; font-size: 11px; font-weight: 600; margin-left: 10px; color: #fff; }
        .badge-upper { background: #3b82f6; }
        .badge-lower { background: #22c55e; }
        .badge-push { background: #f97316; }
        .badge-pull { background: #a855f7; }
        .chevron { color: #64748b; transition: transform 0.2s; font-size: 12px; }
        .chevron.open { transform: rotate(180deg); }
        .exercises { display: none; padding: 0 16px 12px; }
        .exercises.show { display: block; }
        .ex-row { padding: 10px 0; border-bottom: 1px solid #334155; display: flex; justify-content: space-between; align-items: center; font-size: 14px; }
        .ex-row:last-child { border-bottom: none; }
        .ex-name { color: #60a5fa; font-weight: 500; }
        .ex-detail { color: #94a3b8; }
        .amrap-tag { background: #ef4444; color: #fff; padding: 2px 8px; border-radius: 4px; font-size: 11px; font-weight: 600; }
        .notes-tag { color: #64748b; font-size: 12px; font-style: italic; margin-left: 8px; }

        /* Progress section */
        .progress-panel { background: #1e293b; border: 1px solid #334155; border-radius: 12px; padding: 20px; }
        .select-wrap select { width: 100%; padding: 10px; background: #0f172a; border: 1px solid #334155; border-radius: 6px; color: #e2e8f0; font-size: 14px; margin-bottom: 12px; }
        .chart-area { position: relative; height: 280px; margin: 16px 0; }
        .chart-svg { width: 100%; height: 100%; }
        .chart-label { font-size: 11px; fill: #64748b; }
        .grid-line { stroke: #334155; stroke-width: 1; }
        .data-line { fill: none; stroke: #60a5fa; stroke-width: 3; stroke-linecap: round; stroke-linejoin: round; }
        .data-dot { fill: #60a5fa; stroke: #1e293b; stroke-width: 2; }
        .chart-summary { display: flex; gap: 16px; }
        .chart-stat { flex: 1; background: #0f172a; border-radius: 8px; padding: 12px; }
        .chart-stat-label { font-size: 11px; color: #94a3b8; text-transform: uppercase; letter-spacing: 0.5px; }
        .chart-stat-val { font-size: 20px; font-weight: 700; color: #f1f5f9; margin-top: 4px; }
        .chart-stat-change { font-size: 12px; color: #22c55e; margin-top: 2px; }

        /* Tooltip */
        .tooltip { position: absolute; background: #0f172a; border: 1px solid #334155; border-radius: 8px; padding: 8px 12px; font-size: 13px; pointer-events: none; display: none; z-index: 10; }
        .tooltip-date { color: #94a3b8; font-size: 11px; }
        .tooltip-val { color: #f1f5f9; font-weight: 600; }

        /* Tabs */
        .time-tabs { display: flex; gap: 6px; margin-bottom: 12px; }
        .time-tab { flex: 1; padding: 8px; background: #0f172a; border: 1px solid #334155; border-radius: 6px; color: #94a3b8; cursor: pointer; text-align: center; font-size: 13px; font-weight: 500; }
        .time-tab:hover { border-color: #475569; }
        .time-tab.active { background: #3b82f6; border-color: #3b82f6; color: #fff; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Workout Tracker</h1>
            <p>SMS-powered workout logging &bull; Preview with sample data</p>
        </div>

        <div class="stats-row">
            <div class="stat-card">
                <div class="stat-label">Workouts This Week</div>
                <div class="stat-value">3</div>
                <div class="stat-sub">+1 from last week</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Total Volume</div>
                <div class="stat-value" id="total-volume">—</div>
                <div class="stat-sub">weight x reps</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Exercises Logged</div>
                <div class="stat-value" id="total-exercises">—</div>
                <div class="stat-sub">across 6 workouts</div>
            </div>
        </div>

        <div class="main-grid">
            <div>
                <div class="section-title">Recent Workouts</div>
                <div id="workouts-list"></div>
            </div>
            <div>
                <div class="progress-panel">
                    <div class="section-title">Progress Graph</div>
                    <div class="select-wrap">
                        <select id="exercise-select"></select>
                    </div>
                    <div class="time-tabs">
                        <div class="time-tab active" data-range="30">30 days</div>
                        <div class="time-tab" data-range="90">90 days</div>
                        <div class="time-tab" data-range="all">All</div>
                    </div>
                    <div class="chart-area">
                        <svg id="chart" class="chart-svg" viewBox="0 0 500 280" preserveAspectRatio="xMidYMid meet"></svg>
                        <div class="tooltip" id="tooltip">
                            <div class="tooltip-date" id="tip-date"></div>
                            <div class="tooltip-val" id="tip-val"></div>
                        </div>
                    </div>
                    <div class="chart-summary">
                        <div class="chart-stat">
                            <div class="chart-stat-label">Starting</div>
                            <div class="chart-stat-val" id="start-weight">—</div>
                        </div>
                        <div class="chart-stat">
                            <div class="chart-stat-label">Current</div>
                            <div class="chart-stat-val" id="current-weight">—</div>
                        </div>
                        <div class="chart-stat">
                            <div class="chart-stat-label">Change</div>
                            <div class="chart-stat-val" id="weight-change">—</div>
                            <div class="chart-stat-change" id="weight-pct">—</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
    // ── Sample Data ──
    const workouts = [
        {
            id: 1, date: 'Feb 5, 2026', type: 'UPPER',
            exercises: [
                { name: 'Panata Low Row', weight: 205, reps: 8 },
                { name: 'Fly', weight: 200, reps: 9 },
                { name: 'Lat Pulldown', weight: 180, reps: 10 },
                { name: 'Chest Press', weight: 245, reps: 8 },
                { name: 'Side Raise', weight: 20, reps: 10 },
                { name: 'Reverse Fly', weight: 70, reps: 10 },
                { name: 'Tricep Pushdown', weight: 100, reps: null, notes: 'AMRAP' },
                { name: 'Pallof Press', weight: 70, reps: 10, notes: 'anti-rotation' }
            ]
        },
        {
            id: 2, date: 'Feb 3, 2026', type: 'LOWER',
            exercises: [
                { name: 'Squat', weight: 315, reps: 5 },
                { name: 'Romanian Deadlift', weight: 225, reps: 8 },
                { name: 'Leg Press', weight: 500, reps: 10 },
                { name: 'Leg Curl', weight: 120, reps: 10 },
                { name: 'Calf Raise', weight: 180, reps: 15 },
                { name: 'Hip Thrust', weight: 275, reps: 8 }
            ]
        },
        {
            id: 3, date: 'Jan 31, 2026', type: 'PUSH',
            exercises: [
                { name: 'Bench Press', weight: 235, reps: 6 },
                { name: 'Incline DB Press', weight: 65, reps: 10 },
                { name: 'Chest Press', weight: 240, reps: 8 },
                { name: 'Lateral Raise', weight: 20, reps: 12 },
                { name: 'Tricep Pushdown', weight: 95, reps: 12 },
                { name: 'Overhead Tricep Ext', weight: 60, reps: 10 }
            ]
        },
        {
            id: 4, date: 'Jan 29, 2026', type: 'LOWER',
            exercises: [
                { name: 'Squat', weight: 305, reps: 5 },
                { name: 'Romanian Deadlift', weight: 215, reps: 8 },
                { name: 'Leg Press', weight: 490, reps: 10 },
                { name: 'Leg Curl', weight: 115, reps: 10 },
                { name: 'Calf Raise', weight: 170, reps: 15 }
            ]
        },
        {
            id: 5, date: 'Jan 26, 2026', type: 'UPPER',
            exercises: [
                { name: 'Panata Low Row', weight: 195, reps: 8 },
                { name: 'Fly', weight: 190, reps: 9 },
                { name: 'Lat Pulldown', weight: 170, reps: 10 },
                { name: 'Chest Press', weight: 235, reps: 8 },
                { name: 'Side Raise', weight: 17.5, reps: 10 },
                { name: 'Reverse Fly', weight: 65, reps: 10 }
            ]
        },
        {
            id: 6, date: 'Jan 24, 2026', type: 'PULL',
            exercises: [
                { name: 'Barbell Row', weight: 185, reps: 8 },
                { name: 'Lat Pulldown', weight: 165, reps: 10 },
                { name: 'Panata Low Row', weight: 185, reps: 8 },
                { name: 'Face Pull', weight: 50, reps: 15 },
                { name: 'Bicep Curl', weight: 40, reps: 12 }
            ]
        }
    ];

    const progressData = {
        'Squat':             [{ date: 'Jan 10', w: 275 },{ date: 'Jan 17', w: 285 },{ date: 'Jan 24', w: 295 },{ date: 'Jan 29', w: 305 },{ date: 'Feb 3', w: 315 }],
        'Bench Press':       [{ date: 'Jan 10', w: 215 },{ date: 'Jan 17', w: 220 },{ date: 'Jan 24', w: 225 },{ date: 'Jan 31', w: 235 }],
        'Panata Low Row':    [{ date: 'Jan 10', w: 175 },{ date: 'Jan 17', w: 185 },{ date: 'Jan 24', w: 185 },{ date: 'Jan 26', w: 195 },{ date: 'Feb 5', w: 205 }],
        'Romanian Deadlift': [{ date: 'Jan 10', w: 185 },{ date: 'Jan 17', w: 195 },{ date: 'Jan 24', w: 205 },{ date: 'Jan 29', w: 215 },{ date: 'Feb 3', w: 225 }],
        'Leg Press':         [{ date: 'Jan 10', w: 440 },{ date: 'Jan 17', w: 460 },{ date: 'Jan 24', w: 475 },{ date: 'Jan 29', w: 490 },{ date: 'Feb 3', w: 500 }],
        'Lat Pulldown':      [{ date: 'Jan 10', w: 155 },{ date: 'Jan 17', w: 160 },{ date: 'Jan 24', w: 165 },{ date: 'Jan 26', w: 170 },{ date: 'Feb 5', w: 180 }],
        'Chest Press':       [{ date: 'Jan 10', w: 225 },{ date: 'Jan 26', w: 235 },{ date: 'Jan 31', w: 240 },{ date: 'Feb 5', w: 245 }],
        'Leg Curl':          [{ date: 'Jan 10', w: 100 },{ date: 'Jan 24', w: 110 },{ date: 'Jan 29', w: 115 },{ date: 'Feb 3', w: 120 }],
        'Fly':               [{ date: 'Jan 17', w: 180 },{ date: 'Jan 26', w: 190 },{ date: 'Feb 5', w: 200 }],
        'Calf Raise':        [{ date: 'Jan 17', w: 155 },{ date: 'Jan 24', w: 160 },{ date: 'Jan 29', w: 170 },{ date: 'Feb 3', w: 180 }],
    };

    // ── Stats ──
    let totalVol = 0, totalEx = 0;
    workouts.forEach(w => {
        w.exercises.forEach(ex => {
            totalVol += ex.weight * (ex.reps || 1);
            totalEx++;
        });
    });
    document.getElementById('total-volume').textContent = totalVol.toLocaleString() + ' lbs';
    document.getElementById('total-exercises').textContent = totalEx;

    // ── Workout Cards ──
    const list = document.getElementById('workouts-list');
    workouts.forEach((w, idx) => {
        const card = document.createElement('div');
        card.className = 'workout-card';
        const badgeClass = 'badge badge-' + w.type.toLowerCase();

        let exHTML = '';
        w.exercises.forEach(ex => {
            const repsStr = ex.reps === null
                ? '<span class="amrap-tag">AMRAP</span>'
                : ex.reps + ' reps';
            const notesStr = ex.notes && ex.notes !== 'AMRAP'
                ? '<span class="notes-tag">(' + ex.notes + ')</span>'
                : '';
            exHTML += '<div class="ex-row"><span class="ex-name">' + ex.name + notesStr + '</span><span class="ex-detail">' + ex.weight + ' lbs &times; ' + repsStr + '</span></div>';
        });

        card.innerHTML =
            '<div class="workout-head" onclick="toggleCard(this)">' +
                '<div><span class="workout-date">' + w.date + '</span><span class="' + badgeClass + '">' + w.type + '</span>' +
                '<span style="color:#64748b;font-size:12px;margin-left:10px">' + w.exercises.length + ' exercises</span></div>' +
                '<span class="chevron' + (idx < 2 ? ' open' : '') + '">&#9660;</span>' +
            '</div>' +
            '<div class="exercises' + (idx < 2 ? ' show' : '') + '">' + exHTML + '</div>';

        list.appendChild(card);
    });

    function toggleCard(head) {
        const exDiv = head.nextElementSibling;
        const chevron = head.querySelector('.chevron');
        exDiv.classList.toggle('show');
        chevron.classList.toggle('open');
    }

    // ── Exercise Select ──
    const sel = document.getElementById('exercise-select');
    Object.keys(progressData).forEach(name => {
        const opt = document.createElement('option');
        opt.value = name; opt.textContent = name;
        sel.appendChild(opt);
    });
    sel.addEventListener('change', drawChart);

    // ── Time Tabs ──
    document.querySelectorAll('.time-tab').forEach(tab => {
        tab.addEventListener('click', function() {
            document.querySelectorAll('.time-tab').forEach(t => t.classList.remove('active'));
            this.classList.add('active');
            drawChart();
        });
    });

    // ── Chart Drawing ──
    function drawChart() {
        const name = sel.value;
        const data = progressData[name] || [];
        if (!data.length) return;

        const svg = document.getElementById('chart');
        svg.innerHTML = '';

        const pad = { t: 20, r: 20, b: 40, l: 55 };
        const W = 500, H = 280;
        const cw = W - pad.l - pad.r;
        const ch = H - pad.t - pad.b;

        const weights = data.map(d => d.w);
        const minW = Math.min(...weights) - 10;
        const maxW = Math.max(...weights) + 10;

        function x(i) { return pad.l + (i / (data.length - 1 || 1)) * cw; }
        function y(v) { return pad.t + ch - ((v - minW) / (maxW - minW || 1)) * ch; }

        // Grid lines
        const steps = 5;
        for (let i = 0; i <= steps; i++) {
            const val = minW + (maxW - minW) * (i / steps);
            const yy = y(val);
            const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            line.setAttribute('x1', pad.l); line.setAttribute('x2', W - pad.r);
            line.setAttribute('y1', yy); line.setAttribute('y2', yy);
            line.setAttribute('class', 'grid-line');
            if (i === 0) line.setAttribute('stroke-dasharray', '4');
            svg.appendChild(line);

            const label = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            label.setAttribute('x', pad.l - 8); label.setAttribute('y', yy + 4);
            label.setAttribute('text-anchor', 'end');
            label.setAttribute('class', 'chart-label');
            label.textContent = Math.round(val);
            svg.appendChild(label);
        }

        // X labels
        data.forEach((d, i) => {
            const label = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            label.setAttribute('x', x(i)); label.setAttribute('y', H - pad.b + 20);
            label.setAttribute('text-anchor', 'middle');
            label.setAttribute('class', 'chart-label');
            label.textContent = d.date;
            svg.appendChild(label);
        });

        // Line
        if (data.length > 1) {
            let pathD = 'M ' + x(0) + ' ' + y(data[0].w);
            for (let i = 1; i < data.length; i++) {
                pathD += ' L ' + x(i) + ' ' + y(data[i].w);
            }
            const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            path.setAttribute('d', pathD);
            path.setAttribute('class', 'data-line');
            svg.appendChild(path);

            // Gradient fill under line
            const areaD = pathD + ' L ' + x(data.length - 1) + ' ' + (pad.t + ch) + ' L ' + x(0) + ' ' + (pad.t + ch) + ' Z';
            const area = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            area.setAttribute('d', areaD);
            area.setAttribute('fill', 'rgba(96,165,250,0.1)');
            svg.appendChild(area);
        }

        // Dots
        data.forEach((d, i) => {
            const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
            circle.setAttribute('cx', x(i)); circle.setAttribute('cy', y(d.w));
            circle.setAttribute('r', 5);
            circle.setAttribute('class', 'data-dot');

            // Hover area
            const hover = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
            hover.setAttribute('cx', x(i)); hover.setAttribute('cy', y(d.w));
            hover.setAttribute('r', 15); hover.setAttribute('fill', 'transparent');
            hover.setAttribute('style', 'cursor:pointer');

            hover.addEventListener('mouseenter', function(e) {
                const tooltip = document.getElementById('tooltip');
                const rect = svg.getBoundingClientRect();
                const px = (x(i) / W) * rect.width;
                const py = (y(d.w) / H) * rect.height;
                tooltip.style.display = 'block';
                tooltip.style.left = (px + 10) + 'px';
                tooltip.style.top = (py - 40) + 'px';
                document.getElementById('tip-date').textContent = d.date;
                document.getElementById('tip-val').textContent = d.w + ' lbs';
                circle.setAttribute('r', 7);
            });
            hover.addEventListener('mouseleave', function() {
                document.getElementById('tooltip').style.display = 'none';
                circle.setAttribute('r', 5);
            });

            svg.appendChild(circle);
            svg.appendChild(hover);
        });

        // Summary
        const first = data[0].w;
        const last = data[data.length - 1].w;
        const change = last - first;
        const pct = ((change / first) * 100).toFixed(1);

        document.getElementById('start-weight').textContent = first + ' lbs';
        document.getElementById('current-weight').textContent = last + ' lbs';
        document.getElementById('weight-change').textContent = (change >= 0 ? '+' : '') + change + ' lbs';
        document.getElementById('weight-pct').textContent = (change >= 0 ? '+' : '') + pct + '%';
        document.getElementById('weight-change').style.color = change >= 0 ? '#22c55e' : '#ef4444';
        document.getElementById('weight-pct').style.color = change >= 0 ? '#22c55e' : '#ef4444';
    }

    // Initial draw
    drawChart();
    </script>
</body>
</html>
